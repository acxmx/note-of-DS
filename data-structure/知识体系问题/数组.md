# 数组

##### 基本概念

定义：数组是具有相同类型的数据元素构成的有限序列

数据结构上的数组，不同于程序设计语言中的数组类型，一维数组是具有n个相同数据类型的有限序列，二维数组是具有n个一维数组的有限序列，三维数组是具有n个二维数组的有限序列，……。所有维度的数组都可以看成是一个线性表，因此数组是线性表的推广。

数组的存储结构则利用程序设计语言实现了的数组类型



基本运算：

- 读：给定一组下标，读取相应位置的数组元素。
- 写：给定一组下标，存储或修改相应位置的数组元素。





---

##### 算法设计

1.

约瑟夫问题

```CQL
void joseohus(int n, int m)
{
    int p[n];
    int i, j, t;
    for (i = 0; i < n; i++)
        p[i] = i+1;
    t = 0;
    printf("出列顺序：\n");
    for (i = n; i >= 1; i--)
    {
        t = (t + m - 1) % i;
        printf("%d ", p[t]);
        for (j = t+1; j <= i-1; j++)
            p[j-1] = p[j];
    }
    printf("%\n");
}
```



## 数组与矩阵的关系

在程序设计语言中，使用二维数组来描述矩阵



## 矩阵的压缩存储

### 特殊矩阵

##### 基本概念

非零或零元素的分布有一定规律的方阵。

主要形式：对称矩阵、三角矩阵、对角矩阵。两者都是方阵。

**特殊在哪里？或者说为什么称为特殊矩阵？**

因为特殊矩阵的非零元素的分布是有规律的。



###### 对称矩阵

**满足**
$$
a_{ij}=a_{ji}(0<=i,j<=n-1)
$$
**的矩阵(按主对角线对称的元素相等)**



设方阵A，有n行n列

压缩存储规则：一般的，采用下三角 + 对角线存储（有下标：i >= j）

--> 一维数组存放，设为B，其大小为：下三角 + 主对角线（数组下标从0开始），所以下标区间：
$$
[0, \frac {n(n+1)}2-1]
$$
对于方阵中的元素
$$
a_{ij}
$$
有，前面有
$$
[0, i-1]
$$
行

每行有
$$
(行数 + 1) 个元素
$$
i行中，前面有
$$
[0,j-1]=(j-1)-0+1=j
$$
个元素

所以前面共有：
$$
(\sum _{n=0}^{i-1} (n+1))+j=\frac {i(i+1)}2+j
$$
个元素

因为一维数组下标从0开始，所以
$$
a_{ij}
$$
的下标为：
$$
\frac {i(i+1)}2+j  -----或者对于上三角元素---->   \frac {j(j+1)}{2} + i
$$


综上，对于对称矩阵A的数组B，有下标公式
$$
\left \{
\begin{array}{c}
\frac {i(i+1)}2+j,i>=j\\
\frac {j(j+1)}{2} + i,i<j
\end{array}
\right.
$$


-----

###### 三角矩阵

**上三角矩阵：下三角部分元素均为常数c的n阶方阵**

**下三角矩阵：同理。**

设上三角矩阵A

压缩存储部分 --> 上/下三角部分 + 对角线 + 常数c

设用数组B存储，推理同对称矩阵的压缩存储，下标范围：
$$
[0,\frac {n(n+1)}{2}]
$$
对于元素
$$
a_{ji}(i<=j)
$$
前面有
$$
[0,i-1] --> i行
$$
这些行共有
$$
\sum _{x=0}^{i-1}(n-x)=\frac {i(2n-i+1)}2
$$
个元素

第i行前面共有
$$
a_{ii}-a_{i(j-1)} --> (j-1)-i+1=j-i
$$
个元素

所以，其前面共有元素个数为
$$
\frac {i(2n-i+1)}2 + j -i
$$
显然对常数c有最后一个下标
$$
\frac {n(n+1)}2
$$
综上，矩阵A对应的数组B的下标有
$$
\left \{
\begin{array}{c}
\frac {i(2n-i+1)}2 + j -i ,i<=j \\
\frac {n(n+1)}2 ,i>j\\
\end{array}
\right.
$$




对于下三角矩阵A，其数组B，同理有：
$$
\left \{
\begin{array}{c}
\frac {i(i+1)}{2} + j,i>=j\\
\frac {n(n+1)}{2},i<j
\end{array}
\right.
$$

-------

###### 对角矩阵

**非零元素存储在以主对角线为中心的对角线中的矩阵**

**带宽：对角矩阵的对角线总条数**

**半带宽：对角矩阵上/下三角部分对角线总数**

因此对于半带宽为b的对角矩阵，下标满足**|i-j|<=b**的元素a不为零，否则为零



-------

### 稀疏矩阵

**对于一个阶数较大的矩阵，如果其非零元素s<<总元素t，则称为稀疏矩阵**

特点：元素稀疏、元素分布随机



压缩存储：

用三元组线性表，简称三元组表，每个三元组存储矩阵中元素的行、列号和元素值



数据类型声明

```cpp
#define M <稀疏矩阵行数>
#define N <稀疏矩阵列数>
#define MaxSize <稀疏矩阵中非零元素最多的个数>
typedef struct
{
    int r;
    int c;
    ElemType d;
}TupNode;
typedef struct
{
    int rows;
    int cols;
    int nums;
    TupNode data[MaxSize];
}TSMatrix;
```

